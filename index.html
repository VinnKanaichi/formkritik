<!DOCTYPE html>
<html lang="id">
<head>
<meta charset="UTF-8">
<meta name="viewport" content="width=device-width, initial-scale=1.0">
<title>Kritik & Saran Pelanggan</title>
<link href="https://fonts.googleapis.com/css2?family=Poppins:wght@400;600&display=swap" rel="stylesheet">
<style>
  * { box-sizing: border-box; font-family: 'Poppins', sans-serif; }
  body {
    margin: 0; height: 100vh;
    display: flex; flex-direction: column; justify-content: center; align-items: center;
    background: linear-gradient(135deg, #6e8efb, #a777e3);
    overflow: hidden;
  }

  .container {
    width: 90%; max-width: 420px;
    background: rgba(255,255,255,0.12);
    backdrop-filter: blur(12px);
    border: 1px solid rgba(255,255,255,0.2);
    border-radius: 20px;
    padding: 30px;
    box-shadow: 0 8px 25px rgba(0,0,0,0.2);
    color: white;
    animation: fadeIn 0.8s ease;
    z-index: 1;
  }

  @keyframes fadeIn {
    from { opacity: 0; transform: translateY(10px); }
    to { opacity: 1; transform: translateY(0); }
  }

  h2 { text-align: center; margin-bottom: 20px; font-weight: 600; color: #fff; }

  input, textarea {
    width: 100%; padding: 12px; margin-bottom: 15px;
    border: none; border-radius: 10px;
    background: rgba(255,255,255,0.2);
    color: white; font-size: 14px; outline: none; transition: all 0.3s ease;
  }
  input:focus, textarea:focus { background: rgba(255,255,255,0.3); box-shadow: 0 0 0 2px rgba(255,255,255,0.3); }
  textarea { resize: none; }

  button {
    width: 100%; padding: 12px; border: none; border-radius: 10px;
    background: #4e9fff; color: white; font-weight: 600; cursor: pointer; font-size: 15px;
    transition: all 0.3s ease;
  }
  button:hover { background: #358df7; transform: scale(1.03); }

  #status { text-align: center; margin-top: 15px; font-size: 14px; font-weight: 500; }
  #status.success { color: #00ffae; }
  #status.error { color: #ff8080; }

  footer { margin-top: 20px; color: rgba(255,255,255,0.8); font-size: 13px; text-align: center; letter-spacing: 0.5px; }
  footer span { font-weight: 600; color: #fff; }

  /* Bubble info & profile */
  .info-bubble {
    position: fixed; top: 50%; left: 50%;
    transform: translate(-50%, -50%) scale(0.8);
    background: rgba(255,255,255,0.15);
    border: 1px solid rgba(255,255,255,0.25);
    backdrop-filter: blur(10px); color: white; border-radius: 15px;
    padding: 20px 25px; width: 90%; max-width: 600px;
    font-size: 15px; box-shadow: 0 5px 15px rgba(0,0,0,0.2);
    animation: bubbleIn 0.6s ease forwards; cursor: default; z-index: 999;
    text-align: center;
  }

  @keyframes bubbleIn {
    from { opacity: 0; transform: translate(-50%, -50%) scale(0.85); }
    to { opacity: 1; transform: translate(-50%, -50%) scale(1); }
  }

  .info-bubble button {
    margin-top: 8px; background: rgba(255,255,255,0.3); border: none;
    color: white; padding: 5px 12px; border-radius: 8px; font-size: 12px;
    cursor: pointer; transition: all 0.3s ease;
  }
  .info-bubble button:hover { background: rgba(255,255,255,0.5); }

  .info-bubble h3 { margin-bottom: 8px; color: #fff; font-size: 18px; }
  .info-bubble p { font-size: 14px; margin-bottom: 10px; color: #f0f0f0; }

  .social-links { display: flex; flex-wrap: wrap; justify-content: center; gap: 10px; margin-bottom: 12px; }
  .social-links a {
    background: rgba(255,255,255,0.2); padding: 6px 12px; border-radius: 8px;
    text-decoration: none; color: white; font-size: 13px; transition: all 0.3s ease;
  }
  .social-links a:hover { background: rgba(255,255,255,0.4); transform: scale(1.05); }
</style>
</head>
<body>

<div class="container">
  <h2>💬 Form Kritik & Saran</h2>
  <form id="complaintForm" enctype="multipart/form-data">
    <input type="text" id="name" placeholder="Nama Anda" required>
    <input type="text" id="contact" placeholder="Email / Nomor WA (opsional)">
    <textarea id="message" rows="5" placeholder="Tulis kritik atau saran Anda..." required></textarea>
    <input type="file" id="photo" accept="image/*">
    <button type="submit">Kirim Pesan 🚀</button>
    <p id="status"></p>
  </form>
</div>

<footer>© <span>Furina MD</span> by Vinn 2025–2026</footer>

<!-- Bubble profil -->
<div id="profileIntro" class="info-bubble" style="display:none;">
  <h3>👋 Hai, aku Vinn!</h3>
  <p>Developer <b>Furina MD</b> 🤖</p>
  <br> Aku masih 16 tahun dan masih dalam proses belajar, jadi mohon maaf jika project saya masih banyak kekurangan <br>
  <p>Follow aku di sosial media:</p>
  <div class="social-links">
    <a href="https://instagram.com/vinnkanaichi" target="_blank">📸 Instagram</a>
    <a href="https://discord.com/users/putraberbiji2" target="_blank">💬 Discord</a>
    <a href="https://www.tiktok.com/@asuna__kirito" target="_blank">🎵 TikTok</a>
    <a href="https://github.com/VinnKanaichi" target="_blank">💻 GitHub</a>
  </div>
  <button onclick="closeIntro()">Tutup</button>
</div>

<script>
const BOT_TOKEN = "7961981990:AAErfsixGrTuVeKMykJDzk17Oapt39fmriQ";
const CHAT_ID = "6960804569";

document.getElementById("complaintForm").addEventListener("submit", async (e) => {
  e.preventDefault();
  const name = document.getElementById("name").value.trim();
  const contact = document.getElementById("contact").value.trim();
  const message = document.getElementById("message").value.trim();
  const photoInput = document.getElementById("photo");
  const status = document.getElementById("status");

  if (!name || !message) {
    status.textContent = "⚠️ Lengkapi nama dan pesan dulu.";
    status.className = "error";
    return;
  }

  status.textContent = "⏳ Mengirim...";
  status.className = "";

  const caption = `📩 *Pesan Komplain Baru*\n\n👤 Nama: ${name}\n📞 Kontak: ${contact || "-"}\n💬 Pesan:\n${message}`;

  try {
    if (photoInput.files.length > 0) {
      // Kirim foto + caption
      const file = photoInput.files[0];
      const formData = new FormData();
      formData.append("chat_id", CHAT_ID);
      formData.append("caption", caption);
      formData.append("photo", file);

      await fetch(`https://api.telegram.org/bot${BOT_TOKEN}/sendPhoto`, {
        method: "POST",
        body: formData
      });
    } else {
      // Kirim teks saja
      await fetch(`https://api.telegram.org/bot${BOT_TOKEN}/sendMessage`, {
        method: "POST",
        headers: { "Content-Type": "application/json" },
        body: JSON.stringify({ chat_id: CHAT_ID, text: caption, parse_mode: "Markdown" })
      });
    }

    status.textContent = "✅ Pesan berhasil dikirim, terima kasih!";
    status.className = "success";
    document.getElementById("complaintForm").reset();
  } catch (err) {
    console.error(err);
    status.textContent = "❌ Gagal mengirim pesan. Coba lagi.";
    status.className = "error";
  }
});

// Tampilkan bubble profil sekali per user
window.addEventListener("load", () => {
  const intro = document.getElementById("profileIntro");
  intro.style.display = "block";
});

function closeIntro() {
  document.getElementById("profileIntro").style.display = "none";
}
</script>

</body>
</html>
